{
	"version": "2.0.0",
	"options": {
		"cwd": "${fileWorkspaceFolder}",
		"env": {
			"default_make_target": "all",
			"fileWorkspaceFolder": "${fileWorkspaceFolder}",
		},
	},
	"inputs": [
		{
			"id": "build_command",
			"type": "pickString",
			"description": "Select a make target",
			"options": [
				"all",
				"clean all",
				"clean",
			]
		}
	],
	"tasks": [
		{
			"type": "shell",
			"label": "reveal_cwd",
			"command": "# running in ${cwd}",
			"problemMatcher": []
		},
		{
			"type": "shell",
			"label": "Run make with selected command",
			"command": ".vscode/run_make.sh \"${input:build_command}\"",
			"group": {
				"kind": "build",
				"isDefault": true
			}
		},
		{
			"type": "shell",
			"label": "Run make",
			"command": ".vscode/run_make.sh \"${default_make_target}\"",
			"group": {
				"kind": "build",
				"isDefault": false
			}
		},
	]
}
